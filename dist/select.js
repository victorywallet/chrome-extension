(()=>{document.addEventListener("DOMContentLoaded",(e=>{console.log("start",window.opener),window.opener.postMessage({target:"victory-select",type:"loaded"},"*")}));let e=null;window.addEventListener("message",(t=>{for(var n of t.data.providers){const t=n.uuid,o=document.createElement("img");o.src=n.icon;const d=document.createElement("span");d.innerHTML=n.name+"<br>"+(n.account??"(No account)");const s=document.createElement("div");s.className="item",s.append(o),s.append(d),document.getElementById("list").append(s),s.addEventListener("click",(()=>{e=t,window.close()}))}})),window.addEventListener("beforeunload",(()=>{window.opener.postMessage({target:"victory-select",type:"selected",params:e},"*")})),window.addEventListener("blur",(()=>{window.opener.postMessage({target:"victory-select",type:"selected",params:null},"*"),window.close()}))})();