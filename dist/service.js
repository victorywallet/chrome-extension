(()=>{"use strict";var e={228:e=>{var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,a||e,i),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,a=r.length,i=new Array(a);s<a;s++)i[s]=r[s].fn;return i},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,s,a,i){var o=n?n+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,s),!0;case 5:return d.fn.call(d.context,t,r,s,a),!0;case 6:return d.fn.call(d.context,t,r,s,a,i),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var p,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,s);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[u].fn.apply(d[u].context,c)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,s){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||i(this,a);else{for(var c=0,u=[],d=o.length;c<d;c++)(o[c].fn!==t||s&&!o[c].once||r&&o[c].context!==r)&&u.push(o[c]);u.length?this._events[a]=1===u.length?u[0]:u:i(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7007:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function s(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}f(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,s)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var s,a,i,u;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),i=a[t]),void 0===i)i=a[t]=n,++e._eventsCount;else if("function"==typeof i?i=a[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(s=c(e))>0&&i.length>s&&!i.warned){i.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=i.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=d.bind(r);return s.listener=n,r.wrapFn=s,s}function p(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):m(s,s.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function f(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(a){r.once&&e.removeEventListener(t,s),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,a=this._events;if(void 0!==a)s=s&&void 0===a.error;else if(!s)return!1;if(s){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,d=m(c,u);for(n=0;n<u;++n)r(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,s,a,i;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){i=n[a].listener,s=a;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(s=a[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{BRAND:()=>Xt,DIRTY:()=>$e,EMPTY_PATH:()=>Ee,INVALID:()=>Ce,NEVER:()=>zn,OK:()=>Le,ParseStatus:()=>Se,Schema:()=>ze,ZodAny:()=>bt,ZodArray:()=>kt,ZodBigInt:()=>ht,ZodBoolean:()=>mt,ZodBranded:()=>Ht,ZodCatch:()=>Vt,ZodDate:()=>ft,ZodDefault:()=>qt,ZodDiscriminatedUnion:()=>Et,ZodEffects:()=>zt,ZodEnum:()=>Ut,ZodError:()=>xe,ZodFirstPartyTypeKind:()=>tn,ZodFunction:()=>Zt,ZodIntersection:()=>St,ZodIssueCode:()=>_e,ZodLazy:()=>Rt,ZodLiteral:()=>Bt,ZodMap:()=>Lt,ZodNaN:()=>Kt,ZodNativeEnum:()=>Mt,ZodNever:()=>wt,ZodNull:()=>vt,ZodNullable:()=>Wt,ZodNumber:()=>pt,ZodObject:()=>Tt,ZodOptional:()=>Dt,ZodParsedType:()=>ve,ZodPipeline:()=>Jt,ZodPromise:()=>Ft,ZodReadonly:()=>Gt,ZodRecord:()=>$t,ZodSchema:()=>ze,ZodSet:()=>jt,ZodString:()=>dt,ZodSymbol:()=>yt,ZodTransformer:()=>zt,ZodTuple:()=>Ct,ZodType:()=>ze,ZodUndefined:()=>gt,ZodUnion:()=>At,ZodUnknown:()=>_t,ZodVoid:()=>xt,addIssueToContext:()=>Ne,any:()=>hn,array:()=>gn,bigint:()=>on,boolean:()=>cn,coerce:()=>Fn,custom:()=>Qt,date:()=>un,datetimeRegex:()=>ot,defaultErrorMap:()=>ke,discriminatedUnion:()=>wn,effect:()=>Ln,enum:()=>Sn,function:()=>On,getErrorMap:()=>Ae,getParsedType:()=>be,instanceof:()=>nn,intersection:()=>xn,isAborted:()=>je,isAsync:()=>Be,isDirty:()=>Ze,isValid:()=>Re,late:()=>en,lazy:()=>En,literal:()=>Nn,makeIssue:()=>Oe,map:()=>Tn,nan:()=>an,nativeEnum:()=>Cn,never:()=>fn,null:()=>pn,nullable:()=>Zn,number:()=>sn,object:()=>vn,objectUtil:()=>ge,oboolean:()=>Mn,onumber:()=>Un,optional:()=>jn,ostring:()=>Pn,pipeline:()=>Bn,preprocess:()=>Rn,promise:()=>$n,quotelessJson:()=>we,record:()=>In,set:()=>An,setErrorMap:()=>Te,strictObject:()=>bn,string:()=>rn,symbol:()=>dn,transformer:()=>Ln,tuple:()=>kn,undefined:()=>ln,union:()=>_n,unknown:()=>mn,util:()=>ye,void:()=>yn});var s={};n.r(s),n.d(s,{abiSchemaToJsonSchema:()=>$r,codePointToInt:()=>Rr,ensureIfUint8Array:()=>Wr,ethAbiToJsonSchema:()=>Lr,fetchArrayElement:()=>jr,hexToNumber:()=>Br,hexToUint8Array:()=>Dr,numberToHex:()=>Pr,padLeft:()=>Ur,parseBaseType:()=>Sr,transformJsonDataToAbiFormat:()=>Zr,uint8ArrayToHexString:()=>Mr});var a=n(7007);function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function o(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const d={number:i,bool:function(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:o,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)},exists:c,output:u},l=BigInt(2**32-1),p=BigInt(32);function h(e,t=!1){return t?{h:Number(e&l),l:Number(e>>p&l)}:{h:0|Number(e>>p&l),l:0|Number(e&l)}}function m(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:i}=h(e[s],t);[n[s],r[s]]=[a,i]}return[n,r]}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis.crypto;const f=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function y(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function g(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function v(e){return"string"==typeof e&&(e=g(e)),o(e),e}class b{clone(){return this._cloneInto()}}const _=[],w=[],x=[],k=BigInt(0),I=BigInt(1),T=BigInt(2),A=BigInt(7),O=BigInt(256),E=BigInt(113);for(let e=0,t=I,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],_.push(2*(5*r+n)),w.push((e+1)*(e+2)/2%64);let s=k;for(let e=0;e<7;e++)t=(t<<I^(t>>A)*E)%O,t&T&&(s^=I<<(I<<BigInt(e))-I);x.push(s)}const[N,S]=m(x,!0),C=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),$=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class L extends b{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){f||y(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],i=n[s+1],o=C(a,i,1)^n[r],c=$(a,i,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=w[n],a=C(t,s,r),i=$(t,s,r),o=_[n];t=e[o],s=e[o+1],e[o]=a,e[o+1]=i}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=N[r],e[1]^=S[r]}n.fill(0)}(this.state32,this.rounds),f||y(this.state32),this.posOut=0,this.pos=0}update(e){c(this);const{blockLen:t,state:n}=this,r=(e=v(e)).length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){c(this,!1),o(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(u(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new L(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const j=(e,t,n)=>function(e){const t=t=>e().update(v(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new L(t,e,n))),Z=j(1,144,28),R=j(1,136,32),B=j(1,104,48),P=j(1,72,64);function U(e){return t=>(d.bytes(t),e(t))}d.bool,d.bytes,(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),U(Z);const M=(()=>{const e=U(R);return e.create=R.create,e})(),F=(U(B),U(P),4001),z=4100,D=4200,W=4900,q=4901,V=-32700,K=-32600,X=-32601,H=-32602,J=-32603,G=-32e3,Y=-32001,Q=-32002,ee=-32003,te=-32004,ne=-32005,re=-32006;class se extends Error{get innerError(){return this.cause instanceof ae?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new ae(e):this.cause=e}constructor(e,t){super(e),Array.isArray(t)?this.cause=new ae(t):this.cause=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}static convertToString(e,t=!1){if(null==e)return"undefined";const n=JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class ae extends se{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=208,this.errors=e}}class ie extends se{constructor(e,t){super(`Invalid value given "${se.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class oe extends se{constructor(e,t){super(e),this.code=205,this.props=null!=t?t:{}}}class ce extends ie{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class ue extends ie{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class de extends ie{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class le extends ie{constructor(e){super(e,"not a valid boolean."),this.code=1008}}const pe={[V]:{message:"Parse error",description:"Invalid JSON"},[K]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[X]:{message:"Method not found",description:"Method does not exist\t"},[H]:{message:"Invalid params",description:"Invalid method parameters"},[J]:{message:"Internal error",description:"Internal JSON-RPC error"},[G]:{message:"Invalid input",description:"Missing or invalid parameters"},[Y]:{message:"Resource not found",description:"Requested resource not found"},[Q]:{message:"Resource unavailable",description:"Requested resource not available"},[ee]:{message:"Transaction rejected",description:"Transaction creation failed"},[te]:{message:"Method not supported",description:"Method is not implemented"},[ne]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[re]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[F]:{name:"User Rejected Request",message:"The user rejected the request."},[z]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[D]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[W]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[q]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class he extends se{constructor(e,t){super(null!=t?t:"An Rpc error has occured with a code of *code*".replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}const me=new Map;me.set(V,{error:class extends he{constructor(e){super(e,pe[-32700].message),this.code=V}}}),me.set(K,{error:class extends he{constructor(e){super(e,pe[-32600].message),this.code=K}}}),me.set(X,{error:class extends he{constructor(e){super(e,pe[-32601].message),this.code=X}}}),me.set(H,{error:class extends he{constructor(e){super(e,pe[-32602].message),this.code=H}}}),me.set(J,{error:class extends he{constructor(e){super(e,pe[-32603].message),this.code=J}}}),me.set(G,{error:class extends he{constructor(e){super(e,pe[-32e3].message),this.code=G}}}),me.set(te,{error:class extends he{constructor(e){super(e,pe[-32004].message),this.code=te}}}),me.set(Q,{error:class extends he{constructor(e){super(e,pe[-32002].message),this.code=Q}}}),me.set(ee,{error:class extends he{constructor(e){super(e,pe[-32003].message),this.code=ee}}}),me.set(Y,{error:class extends he{constructor(e){super(e,pe[-32001].message),this.code=Y}}}),me.set(re,{error:class extends he{constructor(e){super(e,pe[-32006].message),this.code=re}}}),me.set(ne,{error:class extends he{constructor(e){super(e,pe[-32005].message),this.code=ne}}});class fe extends se{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}var ye,ge;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ye||(ye={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ge||(ge={}));const ve=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),be=e=>{switch(typeof e){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(e)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(e)?ve.array:null===e?ve.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ve.promise:"undefined"!=typeof Map&&e instanceof Map?ve.map:"undefined"!=typeof Set&&e instanceof Set?ve.set:"undefined"!=typeof Date&&e instanceof Date?ve.date:ve.object;default:return ve.unknown}},_e=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),we=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class xe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(r);else if("invalid_return_type"===s.code)r(s.returnTypeError);else if("invalid_arguments"===s.code)r(s.argumentsError);else if(0===s.path.length)n._errors.push(t(s));else{let e=n,r=0;for(;r<s.path.length;){const n=s.path[r];r===s.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(s))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof xe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}xe.create=e=>new xe(e);const ke=(e,t)=>{let n;switch(e.code){case _e.invalid_type:n=e.received===ve.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case _e.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case _e.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=t.defaultError,ye.assertNever(e)}return{message:n}};let Ie=ke;function Te(e){Ie=e}function Ae(){return Ie}const Oe=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};if(void 0!==s.message)return{...s,path:a,message:s.message};let o="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}},Ee=[];function Ne(e,t){const n=Ae(),r=Oe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ke?void 0:ke].filter((e=>!!e))});e.common.issues.push(r)}class Se{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Ce;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return Se.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:s}=r;if("aborted"===t.status)return Ce;if("aborted"===s.status)return Ce;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!r.alwaysSet||(n[t.value]=s.value)}return{status:e.value,value:n}}}const Ce=Object.freeze({status:"aborted"}),$e=e=>({status:"dirty",value:e}),Le=e=>({status:"valid",value:e}),je=e=>"aborted"===e.status,Ze=e=>"dirty"===e.status,Re=e=>"valid"===e.status,Be=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Pe;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(Pe||(Pe={}));class Ue{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Me=(e,t)=>{if(Re(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new xe(e.common.issues);return this._error=t,this._error}}};function Fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??s.defaultError}:void 0===s.data?{message:a??r??s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:a??n??s.defaultError}},description:s}}class ze{get description(){return this._def.description}_getType(e){return be(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Se,ctx:{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Be(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},r=this._parseSync({data:e,path:n.path,parent:n});return Me(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Re(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>Re(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},r=this._parse({data:e,path:n.path,parent:n}),s=await(Be(r)?r:Promise.resolve(r));return Me(n,s)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const s=e(t),a=()=>r.addIssue({code:_e.custom,...n(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then((e=>!!e||(a(),!1))):!!s||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new zt({schema:this,typeName:tn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Dt.create(this,this._def)}nullable(){return Wt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kt.create(this)}promise(){return Ft.create(this,this._def)}or(e){return At.create([this,e],this._def)}and(e){return St.create(this,e,this._def)}transform(e){return new zt({...Fe(this._def),schema:this,typeName:tn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new qt({...Fe(this._def),innerType:this,defaultValue:t,typeName:tn.ZodDefault})}brand(){return new Ht({typeName:tn.ZodBranded,type:this,...Fe(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Vt({...Fe(this._def),innerType:this,catchValue:t,typeName:tn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Jt.create(this,e)}readonly(){return Gt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const De=/^c[^\s-]{8,}$/i,We=/^[0-9a-z]+$/,qe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ve=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ke=/^[a-z0-9_-]{21}$/i,Xe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,He=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Je=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ge;const Ye=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,et=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,st="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",at=new RegExp(`^${st}$`);function it(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function ot(e){let t=`${st}T${it(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ct(e,t){if(!Xe.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!("object"!=typeof s||null===s||"typ"in s&&"JWT"!==s?.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function ut(e,t){return!("v4"!==t&&t||!Qe.test(e))||!("v6"!==t&&t||!tt.test(e))}class dt extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.string,received:t.parsedType}),Ce}const t=new Se;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,s=e.data.length<a.value;(r||s)&&(n=this._getOrReturnCtx(e,n),r?Ne(n,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&Ne(n,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Je.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"email",code:_e.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Ge||(Ge=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ge.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"emoji",code:_e.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)Ve.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"uuid",code:_e.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)Ke.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"nanoid",code:_e.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)De.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"cuid",code:_e.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)We.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"cuid2",code:_e.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)qe.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"ulid",code:_e.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Ne(n,{validation:"url",code:_e.invalid_string,message:a.message}),t.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"regex",code:_e.invalid_string,message:a.message}),t.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty()):"datetime"===a.kind?ot(a).test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:"datetime",message:a.message}),t.dirty()):"date"===a.kind?at.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:"date",message:a.message}),t.dirty()):"time"===a.kind?new RegExp(`^${it(a)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.invalid_string,validation:"time",message:a.message}),t.dirty()):"duration"===a.kind?He.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"duration",code:_e.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?(r=e.data,("v4"===(s=a.version)||!s)&&Ye.test(r)||("v6"===s||!s)&&et.test(r)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"ip",code:_e.invalid_string,message:a.message}),t.dirty())):"jwt"===a.kind?ct(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"jwt",code:_e.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?ut(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"cidr",code:_e.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?nt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"base64",code:_e.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?rt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{validation:"base64url",code:_e.invalid_string,message:a.message}),t.dirty()):ye.assertNever(a);var r,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:_e.invalid_string,...Pe.errToObj(n)})}_addCheck(e){return new dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Pe.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Pe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...Pe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Pe.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Pe.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Pe.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Pe.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Pe.errToObj(t)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function lt(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}dt.create=e=>new dt({checks:[],typeName:tn.ZodString,coerce:e?.coerce??!1,...Fe(e)});class pt extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.number,received:t.parsedType}),Ce}let t;const n=new Se;for(const r of this._def.checks)"int"===r.kind?ye.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==lt(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.not_finite,message:r.message}),n.dirty()):ye.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Pe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pe.toString(t))}setLimit(e,t,n,r){return new pt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pe.toString(r)}]})}_addCheck(e){return new pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&ye.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}pt.create=e=>new pt({checks:[],typeName:tn.ZodNumber,coerce:e?.coerce||!1,...Fe(e)});class ht extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let t;const n=new Se;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ne(t,{code:_e.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):ye.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.bigint,received:t.parsedType}),Ce}gte(e,t){return this.setLimit("min",e,!0,Pe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pe.toString(t))}setLimit(e,t,n,r){return new ht({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pe.toString(r)}]})}_addCheck(e){return new ht({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ht.create=e=>new ht({checks:[],typeName:tn.ZodBigInt,coerce:e?.coerce??!1,...Fe(e)});class mt extends ze{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ve.boolean){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.boolean,received:t.parsedType}),Ce}return Le(e.data)}}mt.create=e=>new mt({typeName:tn.ZodBoolean,coerce:e?.coerce||!1,...Fe(e)});class ft extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.date,received:t.parsedType}),Ce}if(Number.isNaN(e.data.getTime()))return Ne(this._getOrReturnCtx(e),{code:_e.invalid_date}),Ce;const t=new Se;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:_e.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):ye.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ft({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ft.create=e=>new ft({checks:[],coerce:e?.coerce||!1,typeName:tn.ZodDate,...Fe(e)});class yt extends ze{_parse(e){if(this._getType(e)!==ve.symbol){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.symbol,received:t.parsedType}),Ce}return Le(e.data)}}yt.create=e=>new yt({typeName:tn.ZodSymbol,...Fe(e)});class gt extends ze{_parse(e){if(this._getType(e)!==ve.undefined){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.undefined,received:t.parsedType}),Ce}return Le(e.data)}}gt.create=e=>new gt({typeName:tn.ZodUndefined,...Fe(e)});class vt extends ze{_parse(e){if(this._getType(e)!==ve.null){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.null,received:t.parsedType}),Ce}return Le(e.data)}}vt.create=e=>new vt({typeName:tn.ZodNull,...Fe(e)});class bt extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Le(e.data)}}bt.create=e=>new bt({typeName:tn.ZodAny,...Fe(e)});class _t extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Le(e.data)}}_t.create=e=>new _t({typeName:tn.ZodUnknown,...Fe(e)});class wt extends ze{_parse(e){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.never,received:t.parsedType}),Ce}}wt.create=e=>new wt({typeName:tn.ZodNever,...Fe(e)});class xt extends ze{_parse(e){if(this._getType(e)!==ve.undefined){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.void,received:t.parsedType}),Ce}return Le(e.data)}}xt.create=e=>new xt({typeName:tn.ZodVoid,...Fe(e)});class kt extends ze{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ve.array)return Ne(t,{code:_e.invalid_type,expected:ve.array,received:t.parsedType}),Ce;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,s=t.data.length<r.exactLength.value;(e||s)&&(Ne(t,{code:e?_e.too_big:_e.too_small,minimum:s?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ne(t,{code:_e.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ne(t,{code:_e.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Ue(t,e,t.path,n))))).then((e=>Se.mergeArray(n,e)));const s=[...t.data].map(((e,n)=>r.type._parseSync(new Ue(t,e,t.path,n))));return Se.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new kt({...this._def,minLength:{value:e,message:Pe.toString(t)}})}max(e,t){return new kt({...this._def,maxLength:{value:e,message:Pe.toString(t)}})}length(e,t){return new kt({...this._def,exactLength:{value:e,message:Pe.toString(t)}})}nonempty(e){return this.min(1,e)}}function It(e){if(e instanceof Tt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Dt.create(It(r))}return new Tt({...e._def,shape:()=>t})}return e instanceof kt?new kt({...e._def,type:It(e.element)}):e instanceof Dt?Dt.create(It(e.unwrap())):e instanceof Wt?Wt.create(It(e.unwrap())):e instanceof Ct?Ct.create(e.items.map((e=>It(e)))):e}kt.create=(e,t)=>new kt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tn.ZodArray,...Fe(t)});class Tt extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=ye.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ve.object){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.object,received:t.parsedType}),Ce}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof wt&&"strip"===this._def.unknownKeys))for(const e in n.data)s.includes(e)||a.push(e);const i=[];for(const e of s){const t=r[e],s=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new Ue(n,s,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof wt){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(Ne(n,{code:_e.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Ue(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Se.mergeObjectSync(t,e))):Se.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new Tt({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:Pe.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Tt({...this._def,catchall:e})}pick(e){const t={};for(const n of ye.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Tt({...this._def,shape:()=>t})}omit(e){const t={};for(const n of ye.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Tt({...this._def,shape:()=>t})}deepPartial(){return It(this)}partial(e){const t={};for(const n of ye.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Tt({...this._def,shape:()=>t})}required(e){const t={};for(const n of ye.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Dt;)e=e._def.innerType;t[n]=e}return new Tt({...this._def,shape:()=>t})}keyof(){return Pt(ye.objectKeys(this.shape))}}Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:wt.create(),typeName:tn.ZodObject,...Fe(t)}),Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:wt.create(),typeName:tn.ZodObject,...Fe(t)}),Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:wt.create(),typeName:tn.ZodObject,...Fe(t)});class At extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new xe(e.ctx.common.issues)));return Ne(t,{code:_e.invalid_union,unionErrors:n}),Ce}));{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=r.map((e=>new xe(e)));return Ne(t,{code:_e.invalid_union,unionErrors:s}),Ce}}get options(){return this._def.options}}At.create=(e,t)=>new At({options:e,typeName:tn.ZodUnion,...Fe(t)});const Ot=e=>e instanceof Rt?Ot(e.schema):e instanceof zt?Ot(e.innerType()):e instanceof Bt?[e.value]:e instanceof Ut?e.options:e instanceof Mt?ye.objectValues(e.enum):e instanceof qt?Ot(e._def.innerType):e instanceof gt?[void 0]:e instanceof vt?[null]:e instanceof Dt?[void 0,...Ot(e.unwrap())]:e instanceof Wt?[null,...Ot(e.unwrap())]:e instanceof Ht||e instanceof Gt?Ot(e.unwrap()):e instanceof Vt?Ot(e._def.innerType):[];class Et extends ze{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.object)return Ne(t,{code:_e.invalid_type,expected:ve.object,received:t.parsedType}),Ce;const n=this.discriminator,r=t.data[n],s=this.optionsMap.get(r);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Ne(t,{code:_e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Ot(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of t){if(r.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);r.set(s,n)}}return new Et({typeName:tn.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Fe(n)})}}function Nt(e,t){const n=be(e),r=be(t);if(e===t)return{valid:!0,data:e};if(n===ve.object&&r===ve.object){const n=ye.objectKeys(t),r=ye.objectKeys(e).filter((e=>-1!==n.indexOf(e))),s={...e,...t};for(const n of r){const r=Nt(e[n],t[n]);if(!r.valid)return{valid:!1};s[n]=r.data}return{valid:!0,data:s}}if(n===ve.array&&r===ve.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const s=Nt(e[r],t[r]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===ve.date&&r===ve.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class St extends ze{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(je(e)||je(r))return Ce;const s=Nt(e.value,r.value);return s.valid?((Ze(e)||Ze(r))&&t.dirty(),{status:t.value,value:s.data}):(Ne(n,{code:_e.invalid_intersection_types}),Ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}St.create=(e,t,n)=>new St({left:e,right:t,typeName:tn.ZodIntersection,...Fe(n)});class Ct extends ze{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.array)return Ne(n,{code:_e.invalid_type,expected:ve.array,received:n.parsedType}),Ce;if(n.data.length<this._def.items.length)return Ne(n,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Ue(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Se.mergeArray(t,e))):Se.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ct({...this._def,rest:e})}}Ct.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ct({items:e,typeName:tn.ZodTuple,rest:null,...Fe(t)})};class $t extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return Ne(n,{code:_e.invalid_type,expected:ve.object,received:n.parsedType}),Ce;const r=[],s=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:s._parse(new Ue(n,e,n.path,e)),value:a._parse(new Ue(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?Se.mergeObjectAsync(t,r):Se.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new $t(t instanceof ze?{keyType:e,valueType:t,typeName:tn.ZodRecord,...Fe(n)}:{keyType:dt.create(),valueType:e,typeName:tn.ZodRecord,...Fe(t)})}}class Lt extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.map)return Ne(n,{code:_e.invalid_type,expected:ve.map,received:n.parsedType}),Ce;const r=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new Ue(n,e,n.path,[a,"key"])),value:s._parse(new Ue(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,s=await n.value;if("aborted"===r.status||"aborted"===s.status)return Ce;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,s=n.value;if("aborted"===r.status||"aborted"===s.status)return Ce;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}}}Lt.create=(e,t,n)=>new Lt({valueType:t,keyType:e,typeName:tn.ZodMap,...Fe(n)});class jt extends ze{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.set)return Ne(n,{code:_e.invalid_type,expected:ve.set,received:n.parsedType}),Ce;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ne(n,{code:_e.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ne(n,{code:_e.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Ce;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>s._parse(new Ue(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>a(e))):a(i)}min(e,t){return new jt({...this._def,minSize:{value:e,message:Pe.toString(t)}})}max(e,t){return new jt({...this._def,maxSize:{value:e,message:Pe.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}jt.create=(e,t)=>new jt({valueType:e,minSize:null,maxSize:null,typeName:tn.ZodSet,...Fe(t)});class Zt extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.function)return Ne(t,{code:_e.invalid_type,expected:ve.function,received:t.parsedType}),Ce;function n(e,n){return Oe({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ae(),ke].filter((e=>!!e)),issueData:{code:_e.invalid_arguments,argumentsError:n}})}function r(e,n){return Oe({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ae(),ke].filter((e=>!!e)),issueData:{code:_e.invalid_return_type,returnTypeError:n}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Ft){const e=this;return Le((async function(...t){const i=new xe([]),o=await e._def.args.parseAsync(t,s).catch((e=>{throw i.addIssue(n(t,e)),i})),c=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(c,s).catch((e=>{throw i.addIssue(r(c,e)),i}))}))}{const e=this;return Le((function(...t){const i=e._def.args.safeParse(t,s);if(!i.success)throw new xe([n(t,i.error)]);const o=Reflect.apply(a,this,i.data),c=e._def.returns.safeParse(o,s);if(!c.success)throw new xe([r(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Zt({...this._def,args:Ct.create(e).rest(_t.create())})}returns(e){return new Zt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Zt({args:e||Ct.create([]).rest(_t.create()),returns:t||_t.create(),typeName:tn.ZodFunction,...Fe(n)})}}class Rt extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Rt.create=(e,t)=>new Rt({getter:e,typeName:tn.ZodLazy,...Fe(t)});class Bt extends ze{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ne(t,{received:t.data,code:_e.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Pt(e,t){return new Ut({values:e,typeName:tn.ZodEnum,...Fe(t)})}Bt.create=(e,t)=>new Bt({value:e,typeName:tn.ZodLiteral,...Fe(t)});class Ut extends ze{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ne(t,{expected:ye.joinValues(n),received:t.parsedType,code:_e.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ne(t,{received:t.data,code:_e.invalid_enum_value,options:n}),Ce}return Le(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ut.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ut.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Ut.create=Pt;class Mt extends ze{_parse(e){const t=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ve.string&&n.parsedType!==ve.number){const e=ye.objectValues(t);return Ne(n,{expected:ye.joinValues(e),received:n.parsedType,code:_e.invalid_type}),Ce}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=ye.objectValues(t);return Ne(n,{received:n.data,code:_e.invalid_enum_value,options:e}),Ce}return Le(e.data)}get enum(){return this._def.values}}Mt.create=(e,t)=>new Mt({values:e,typeName:tn.ZodNativeEnum,...Fe(t)});class Ft extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.promise&&!1===t.common.async)return Ne(t,{code:_e.invalid_type,expected:ve.promise,received:t.parsedType}),Ce;const n=t.parsedType===ve.promise?t.data:Promise.resolve(t.data);return Le(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Ft.create=(e,t)=>new Ft({type:e,typeName:tn.ZodPromise,...Fe(t)});class zt extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:e=>{Ne(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===r.type){const e=r.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Ce;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ce:"dirty"===r.status||"dirty"===t.value?$e(r.value):r}));{if("aborted"===t.value)return Ce;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ce:"dirty"===r.status||"dirty"===t.value?$e(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Ce:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Ce:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Re(e))return Ce;const a=r.transform(e.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Re(e)?Promise.resolve(r.transform(e.value,s)).then((e=>({status:t.value,value:e}))):Ce))}ye.assertNever(r)}}zt.create=(e,t,n)=>new zt({schema:e,typeName:tn.ZodEffects,effect:t,...Fe(n)}),zt.createWithPreprocess=(e,t,n)=>new zt({schema:t,effect:{type:"preprocess",transform:e},typeName:tn.ZodEffects,...Fe(n)});class Dt extends ze{_parse(e){return this._getType(e)===ve.undefined?Le(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dt.create=(e,t)=>new Dt({innerType:e,typeName:tn.ZodOptional,...Fe(t)});class Wt extends ze{_parse(e){return this._getType(e)===ve.null?Le(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wt.create=(e,t)=>new Wt({innerType:e,typeName:tn.ZodNullable,...Fe(t)});class qt extends ze{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}qt.create=(e,t)=>new qt({innerType:e,typeName:tn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Fe(t)});class Vt extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Be(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new xe(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new xe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Vt.create=(e,t)=>new Vt({innerType:e,typeName:tn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Fe(t)});class Kt extends ze{_parse(e){if(this._getType(e)!==ve.nan){const t=this._getOrReturnCtx(e);return Ne(t,{code:_e.invalid_type,expected:ve.nan,received:t.parsedType}),Ce}return{status:"valid",value:e.data}}}Kt.create=e=>new Kt({typeName:tn.ZodNaN,...Fe(e)});const Xt=Symbol("zod_brand");class Ht extends ze{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Jt extends ze{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ce:"dirty"===e.status?(t.dirty(),$e(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ce:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Jt({in:e,out:t,typeName:tn.ZodPipeline})}}class Gt extends ze{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Re(e)&&(e.value=Object.freeze(e.value)),e);return Be(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Yt(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function Qt(e,t={},n){return e?bt.create().superRefine(((r,s)=>{const a=e(r);if(a instanceof Promise)return a.then((e=>{if(!e){const e=Yt(t,r),a=e.fatal??n??!0;s.addIssue({code:"custom",...e,fatal:a})}}));if(!a){const e=Yt(t,r),a=e.fatal??n??!0;s.addIssue({code:"custom",...e,fatal:a})}})):bt.create()}Gt.create=(e,t)=>new Gt({innerType:e,typeName:tn.ZodReadonly,...Fe(t)});const en={object:Tt.lazycreate};var tn;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(tn||(tn={}));const nn=(e,t={message:`Input not instance of ${e.name}`})=>Qt((t=>t instanceof e),t),rn=dt.create,sn=pt.create,an=Kt.create,on=ht.create,cn=mt.create,un=ft.create,dn=yt.create,ln=gt.create,pn=vt.create,hn=bt.create,mn=_t.create,fn=wt.create,yn=xt.create,gn=kt.create,vn=Tt.create,bn=Tt.strictCreate,_n=At.create,wn=Et.create,xn=St.create,kn=Ct.create,In=$t.create,Tn=Lt.create,An=jt.create,On=Zt.create,En=Rt.create,Nn=Bt.create,Sn=Ut.create,Cn=Mt.create,$n=Ft.create,Ln=zt.create,jn=Dt.create,Zn=Wt.create,Rn=zt.createWithPreprocess,Bn=Jt.create,Pn=()=>rn().optional(),Un=()=>sn().optional(),Mn=()=>cn().optional(),Fn={string:e=>dt.create({...e,coerce:!0}),number:e=>pt.create({...e,coerce:!0}),boolean:e=>mt.create({...e,coerce:!0}),bigint:e=>ht.create({...e,coerce:!0}),date:e=>ft.create({...e,coerce:!0})},zn=Ce,Dn=e=>e.message?e.message:"unspecified error";class Wn extends se{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:\n${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(Dn)}}function qn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Vn(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Kn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xn(e,t){Vn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Hn={number:qn,bool:function(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:Vn,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");qn(e.outputLen),qn(e.blockLen)},exists:Kn,output:Xn},Jn=BigInt(2**32-1),Gn=BigInt(32);function Yn(e,t=!1){return t?{h:Number(e&Jn),l:Number(e>>Gn&Jn)}:{h:0|Number(e>>Gn&Jn),l:0|Number(e&Jn)}}function Qn(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:i}=Yn(e[s],t);[n[s],r[s]]=[a,i]}return[n,r]}const er=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function tr(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function nr(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function rr(e){return"string"==typeof e&&(e=nr(e)),Vn(e),e}class sr{clone(){return this._cloneInto()}}const ar=[],ir=[],or=[],cr=BigInt(0),ur=BigInt(1),dr=BigInt(2),lr=BigInt(7),pr=BigInt(256),hr=BigInt(113);for(let e=0,t=ur,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ar.push(2*(5*r+n)),ir.push((e+1)*(e+2)/2%64);let s=cr;for(let e=0;e<7;e++)t=(t<<ur^(t>>lr)*hr)%pr,t&dr&&(s^=ur<<(ur<<BigInt(e))-ur);or.push(s)}const[mr,fr]=Qn(or,!0),yr=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),gr=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class vr extends sr{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){er||tr(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],i=n[s+1],o=yr(a,i,1)^n[r],c=gr(a,i,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=ir[n],a=yr(t,s,r),i=gr(t,s,r),o=ar[n];t=e[o],s=e[o+1],e[o]=a,e[o+1]=i}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=mr[r],e[1]^=fr[r]}n.fill(0)}(this.state32,this.rounds),er||tr(this.state32),this.posOut=0,this.pos=0}update(e){Kn(this);const{blockLen:t,state:n}=this,r=(e=rr(e)).length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Kn(this,!1),Vn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Xn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new vr(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const br=(e,t,n)=>function(e){const t=t=>e().update(rr(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new vr(t,e,n))),_r=br(1,144,28),wr=br(1,136,32),xr=br(1,104,48),kr=br(1,72,64);function Ir(e){return t=>(Hn.bytes(t),e(t))}Hn.bool,Hn.bytes,(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),Ir(_r);const Tr=(()=>{const e=Ir(wr);return e.create=wr.create,e})(),Ar=(Ir(xr),Ir(kr),["bool","int","uint","bytes","string","address","tuple"]),Or=e=>"object"==typeof e&&"type"in e&&"name"in e,Er=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e),Nr=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Sr=e=>{let t,n=e.replace(/ /,""),r=!1,s=[];if(e.includes("[")&&(n=n.slice(0,n.indexOf("[")),s=[...e.matchAll(/(?:\[(\d*)\])/g)].map((e=>parseInt(e[1],10))).map((e=>Number.isNaN(e)?-1:e)),r=s.length>0),Ar.includes(n))return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:s};if(n.startsWith("int"))t=parseInt(n.substring(3),10),n="int";else if(n.startsWith("uint"))t=parseInt(e.substring(4),10),n="uint";else{if(!n.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};t=parseInt(n.substring(5),10),n="bytes"}return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:s}},Cr=(e,t={})=>{if(Object.keys(t).includes("type"))throw new Wn([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:n,baseTypeSize:r}=Sr(e);if(!n&&!Nr.includes(e))throw new Wn([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(n){if("tuple"===n)throw new Error('"tuple" type is not implemented directly.');return{format:`${n}${null!=r?r:""}`,required:!0}}return e?{format:e,required:!0}:{}},$r=(e,t="/0")=>{const n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[r,s]of e.entries()){let e,a,i=[];Or(s)?(e=s.type,a=s.name||`${t}/${r}`,i=s.components):"string"==typeof s?(e=s,a=`${t}/${r}`):Array.isArray(s)&&(s[0]&&"string"==typeof s[0]&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(e=s[0],a=`${t}/${r}`,i=s[1]):(e="tuple",a=`${t}/${r}`,i=s));const{baseType:o,isArray:c,arraySizes:u}=Sr(e);let d,l=n;for(let e=u.length-1;e>0;e-=1)d={type:"array",$id:a,items:[],maxItems:u[e],minItems:u[e]},u[e]<0&&(delete d.maxItems,delete d.minItems),Array.isArray(l.items)?0===l.items.length?l.items=[d]:l.items.push(d):l.items=[l.items,d],l=d;if("tuple"!==o||c)if("tuple"===o&&c){const e=u[0],t=Object.assign({type:"array",$id:a,items:$r(i,a)},e>=0&&{minItems:e,maxItems:e});l.items.push(t)}else if(c){const t=u[0],n=Object.assign({type:"array",$id:a,items:Cr(e)},t>=0&&{minItems:t,maxItems:t});l.items.push(n)}else Array.isArray(l.items),l.items.push(Object.assign({$id:a},Cr(e)));else{const e=$r(i,a);e.$id=a,l.items.push(e)}l=n}return n},Lr=e=>$r(e),jr=(e,t)=>1===t?e:jr(e[0],t-1),Zr=(e,t,n)=>{const r=[];for(const[s,a]of e.entries()){let e,i,o=[];Or(a)?(e=a.type,i=a.name,o=a.components):"string"==typeof a?e=a:Array.isArray(a)&&(a[1]&&Array.isArray(a[1])?(e=a[0],o=a[1]):(e="tuple",o=a));const{baseType:c,isArray:u,arraySizes:d}=Sr(e),l=Array.isArray(t)?t[s]:t[i];if("tuple"!==c||u)if("tuple"===c&&u){const e=[];for(const t of l)if(d.length>1){const r=jr(t,d.length-1),s=[];for(const e of r)s.push(Zr(o,e,n));e.push(s)}else e.push(Zr(o,t,n));r.push(e)}else r.push(l);else r.push(Zr(o,l,n))}return(n=null!=n?n:[]).push(...r),n},Rr=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},Br=e=>{if(!Er(e))throw new Error("Invalid hex string");const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?t?-r:r:r<Number.MIN_SAFE_INTEGER?r:t?-1*Number(r):Number(r)},Pr=e=>{if(("number"==typeof e||"bigint"==typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"==typeof e||"bigint"==typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"==typeof e&&Er(e)){const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e];return`${t?"-":""}0x${n.split(/^(-)?0(x|X)/).slice(-1)[0].replace(/^0+/,"").toLowerCase()}`}if("string"==typeof e&&!Er(e))return Pr(BigInt(e));throw new ue(e)},Ur=(e,t,n="0")=>{if("string"==typeof e&&!Er(e))return e.padStart(t,n);const r="string"==typeof e&&Er(e)?e:Pr(e),[s,a]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${a.padStart(t,n)}`};function Mr(e){let t="0x";for(const n of e){const e=n.toString(16);t+=1===e.length?`0${e}`:e}return t}const Fr={zero:48,nine:57,A:65,F:70,a:97,f:102};function zr(e){return e>=Fr.zero&&e<=Fr.nine?e-Fr.zero:e>=Fr.A&&e<=Fr.F?e-(Fr.A-10):e>=Fr.a&&e<=Fr.f?e-(Fr.a-10):void 0}function Dr(e){let t=0;if(!e.startsWith("0")||"x"!==e[1]&&"X"!==e[1]||(t=2),e.length%2!=0)throw new ce(`hex string has odd length: ${e}`);const n=(e.length-t)/2,r=new Uint8Array(n);for(let s=0,a=t;s<n;s+=1){const t=zr(e.charCodeAt(a++)),n=zr(e.charCodeAt(a++));if(void 0===t||void 0===n)throw new ce(`Invalid byte sequence ("${e[a-2]}${e[a-1]}" in "${e}").`);r[s]=16*t+n}return r}function Wr(e){var t;return e instanceof Uint8Array||"Uint8Array"!==(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)?e:Uint8Array.from(e)}const qr=e=>{var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)},Vr=(e,t={abiType:"bytes"})=>{if("string"!=typeof e&&!Array.isArray(e)&&!qr(e))return!1;if("string"==typeof e&&Er(e)&&e.startsWith("-"))return!1;if("string"==typeof e&&!Er(e))return!1;let n;if("string"==typeof e){if(e.length%2!=0)return!1;n=Dr(e)}else if(Array.isArray(e)){if(e.some((e=>e<0||e>255||!Number.isInteger(e))))return!1;n=new Uint8Array(e)}else n=e;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=Sr(t.abiType);return!e||n.length===e}return!(null==t?void 0:t.size)||n.length===(null==t?void 0:t.size)},Kr=(e,t=!0)=>{if("string"!=typeof e&&!qr(e))return!1;let n;return n=qr(e)?Mr(e):"string"!=typeof e||Er(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(n)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(n)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(n))||!t||(e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),n=nr(t.toLowerCase()),r=Mr(Tr(Wr(n))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||parseInt(r[e],16)<=7&&t[e].toLowerCase()!==t[e])return!1;return!0})(n))};var Xr,Hr,Jr,Gr,Yr,Qr,es;(Gr=Xr||(Xr={})).NUMBER="NUMBER_NUMBER",Gr.HEX="NUMBER_HEX",Gr.STR="NUMBER_STR",Gr.BIGINT="NUMBER_BIGINT",(Jr=Hr||(Hr={})).HEX="BYTES_HEX",Jr.UINT8ARRAY="BYTES_UINT8ARRAY",Xr.BIGINT,Hr.HEX,Xr.HEX,Hr.HEX,(es=Yr||(Yr={})).EARLIEST="earliest",es.LATEST="latest",es.PENDING="pending",es.SAFE="safe",es.FINALIZED="finalized",es.COMMITTED="committed",function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"}(Qr||(Qr={})),Object.getPrototypeOf(Uint8Array),Symbol.for("web3/base-provider");const ts=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let r=1;r<t;r+=1)n*=e;return n},ns=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=Sr(t.abiType);e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=ts(BigInt(2),BigInt(null!=n?n:256))-BigInt(1);try{const t="string"==typeof e&&Er(e)?BigInt(Br(e)):BigInt(e);return t>=0&&t<=r}catch(e){return!1}},rs=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e))return!1;if("number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e,baseType:r}=Sr(t.abiType);if("int"!==r)return!1;e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=ts(BigInt(2),BigInt((null!=n?n:256)-1)),s=BigInt(-1)*ts(BigInt(2),BigInt((null!=n?n:256)-1));try{const t="string"==typeof e&&Er(e)?BigInt(Br(e)):BigInt(e);return t>=s&&t<=r}catch(e){return!1}},ss=e=>ns(e),as=e=>Object.values(Yr).includes(e),is=e=>as(e)||ss(e),os=e=>null==e,cs=e=>!("string"!=typeof e||!/^(0x)?[0-9a-f]{64}$/i.test(e)||!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e)),us={address:e=>Kr(e),bloom:e=>{return!("string"!=typeof(t=e)||!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t));var t},blockNumber:e=>ss(e),blockTag:e=>as(e),blockNumberOrTag:e=>is(e),bool:e=>{return!!["number","string","boolean"].includes(typeof(t=e))&&("boolean"==typeof t||("string"!=typeof t||Er(t)?"string"==typeof t&&Er(t)?"0x1"===t||"0x0"===t:1===t||0===t:"1"===t||"0"===t));var t},bytes:e=>Vr(e),filter:e=>(e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(os(e)||"object"!=typeof e)return!1;if(!Object.keys(e).every((e=>t.includes(e))))return!1;if(!os(e.fromBlock)&&!is(e.fromBlock)||!os(e.toBlock)&&!is(e.toBlock))return!1;if(!os(e.address))if(Array.isArray(e.address)){if(!e.address.every((e=>Kr(e))))return!1}else if(!Kr(e.address))return!1;return!(!os(e.topics)&&!e.topics.every((e=>!!os(e)||(Array.isArray(e)?e.every((e=>cs(e))):!!cs(e)))))})(e),hex:e=>Er(e),uint:e=>ns(e),int:e=>rs(e),number:e=>{return!!rs(t=e)||!("string"!=typeof t||!/[0-9.]/.test(t)||t.indexOf(".")!==t.lastIndexOf("."))||"number"==typeof t;var t},string:e=>"string"==typeof e};for(let e=8;e<=256;e+=8)us[`int${e}`]=t=>rs(t,{bitSize:e}),us[`uint${e}`]=t=>ns(t,{bitSize:e});for(let e=1;e<=32;e+=1)us[`bytes${e}`]=t=>Vr(t,{size:e});us.bytes256=us.bytes;const ds=us,ls=e=>{if((!(null==e?void 0:e.type)||"object"===(null==e?void 0:e.type))&&(null==e?void 0:e.properties)){const t={};for(const n of Object.keys(e.properties)){const r=ls(e.properties[n]);r&&(t[n]=r)}return Array.isArray(e.required)?vn(t).partial().required(e.required.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{})):vn(t).partial()}if("array"===(null==e?void 0:e.type)&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map((e=>e.$id))).size===e.items.length){const t=[];for(const n of e.items){const e=ls(n);e&&t.push(e)}return kn(t)}const t=Array.isArray(e.items)?e.items[0]:e.items;let n=gn(ls(t));return n=void 0!==e.minItems?n.min(e.minItems):n,n=void 0!==e.maxItems?n.max(e.maxItems):n,n}if(e.oneOf&&Array.isArray(e.oneOf))return _n(e.oneOf.map((e=>ls(e))));if(null==e?void 0:e.format){if(!ds[e.format])throw new fe(e.format);return hn().refine(ds[e.format],(t=>({params:{value:t,format:e.format}})))}return(null==e?void 0:e.type)&&"object"!==(null==e?void 0:e.type)&&"function"==typeof r[String(e.type)]?r[String(e.type)]():vn({data:hn()}).partial()};class ps{static factory(){return ps.validatorInstance||(ps.validatorInstance=new ps),ps.validatorInstance}validate(e,t,n){var r,s;const a=ls(e).safeParse(t);if(!a.success){const e=this.convertErrors(null!==(s=null===(r=a.error)||void 0===r?void 0:r.issues)&&void 0!==s?s:[]);if(e){if(null==n?void 0:n.silent)return e;throw new Wn(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map((e=>{var t;let n,r,s,a;a=e.path.join("/");const i=String(e.path[e.path.length-1]),o=e.path.join("/");if(e.code===_e.too_big)r="maxItems",a=`${o}/maxItems`,s={limit:e.maximum},n=`must NOT have more than ${e.maximum} items`;else if(e.code===_e.too_small)r="minItems",a=`${o}/minItems`,s={limit:e.minimum},n=`must NOT have fewer than ${e.minimum} items`;else if(e.code===_e.custom){const{value:r,format:i}=null!==(t=e.params)&&void 0!==t?t:{};n=void 0===r?`value at "/${a}" is required`:`value "${"object"==typeof r?JSON.stringify(r):r}" at "/${a}" must pass "${i}" validation`,s={value:r}}return{keyword:null!=r?r:i,instancePath:o?`/${o}`:"",schemaPath:a?`#${a}`:"#",params:null!=s?s:{value:e.message},message:null!=n?n:e.message}}))}}const hs=new class{constructor(){this._validator=ps.factory()}validateJSONSchema(e,t,n){return this._validator.validate(e,t,n)}validate(e,t,n={silent:!1}){var r,s;const a=Lr(e);if(!Array.isArray(a.items)||0!==(null===(r=a.items)||void 0===r?void 0:r.length)||0!==t.length){if(Array.isArray(a.items)&&0===(null===(s=a.items)||void 0===s?void 0:s.length)&&0!==t.length)throw new Wn([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(a,t,n)}}};function ms(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const fs=e=>{if(hs.validate(["bytes"],[e]),function(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return Dr(e);throw new ce(e)},{uint8ArrayToHexString:ys}=s,gs=e=>ys(fs(e)),vs=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?fs(`0x${e}`):fs(e),bs=g,_s=e=>{if("number"==typeof e)return e>1e20?(console.warn("Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods"),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&Er(e))return(e=>(hs.validate(["hex"],[e]),Br(e)))(e);try{return _s(BigInt(e))}catch(t){throw new ue(e)}},ws=e=>{if(!Kr(e,!1))throw new de(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Mr(M(Wr(bs(t))));if(os(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const s=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(s[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r};n(228);const xs=os,{parseBaseType:ks}=s,Is="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Ts=e=>{const t=(e=>{let t;t="string"==typeof e?e.startsWith("0x")&&Er(e)?vs(e):g(e):e;const n=(e=>{let t;return t="bigint"==typeof e||"number"==typeof e?g(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||Er(e)?fs(e):g(e),gs(M(Wr(t)))})(t);return n===Is?void 0:n})(e);return os(t)?Is:t};Symbol.toStringTag;const As=e=>!xs(e)&&"object"==typeof e&&!xs(e.type)&&"function"===e.type,Os=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},Es=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"==typeof r?t.push(Object.assign(Object.assign({},Os(n)),{components:Es(r)})):t.push({name:n,type:e[n]})}return t},Ns=(e,t)=>{const n=[];return t.forEach((t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new oe(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),s=r>=0?t.type.substring(r):"",a=Ns(e,t.components);Array.isArray(a)&&e?n.push(`tuple(${a.join(",")})${s}`):e?n.push(`(${a.join()})`):n.push(`(${a.join(",")})${s}`)}else n.push(t.type)})),n};function Ss(e,t){const n=e.exec(t);return n?.groups}var Cs=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ls=/^\(.+?\).*?$/,js=Object.defineProperty,Zs=(e,t,n)=>(((e,t,n)=>{t in e?js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Rs=class extends Error{constructor(e,t={}){const n=t.cause instanceof Rs?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Rs&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@0.7.1"].join("\n")),Zs(this,"details"),Zs(this,"docsPath"),Zs(this,"metaMessages"),Zs(this,"shortMessage"),Zs(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}},Bs=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function Ps(e){return Bs.test(e)}function Us(e){return Ss(Bs,e)}var Ms=new Set(["memory","indexed","storage","calldata"]),Fs=new Set(["calldata","memory","storage"]),zs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Ds=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Ws=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,qs=/^u?int$/;function Vs(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(zs.has(n))return zs.get(n);const r=Ls.test(e),s=Ss(r?Ws:Ds,e);if(!s)throw new Rs("Invalid ABI parameter.",{details:e});if(s.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||Cs.test(e)||$s.test(e)||Hs.test(e)}(s.name))throw new Rs("Invalid ABI parameter.",{details:e,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const a=s.name?{name:s.name}:{},i="indexed"===s.modifier?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const e=Ks(s.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(Vs(e[r],{structs:o}));u={components:t}}else if(s.type in o)c="tuple",u={components:o[s.type]};else if(qs.test(s.type))c=`${s.type}256`;else if(c=s.type,"struct"!==t?.type&&!Xs(c))throw new Rs("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type.`]});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Rs("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${s.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(Fs.has(s.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!s.array))throw new Rs("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${s.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const d={type:`${c}${s.array??""}`,...a,...i,...u};return zs.set(n,d),d}function Ks(e,t=[],n="",r=0){if(""===e){if(""===n)return t;if(0!==r)throw new Rs("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...t,n.trim()]}const s=e.length;for(let a=0;a<s;a++){const s=e[a],i=e.slice(a+1);switch(s){case",":return 0===r?Ks(i,[...t,n.trim()]):Ks(i,t,`${n}${s}`,r);case"(":return Ks(i,t,`${n}${s}`,r+1);case")":return Ks(i,t,`${n}${s}`,r-1);default:return Ks(i,t,`${n}${s}`,r)}}return[]}function Xs(e){return"address"===e||"bool"===e||"function"===e||"string"===e||Cs.test(e)||$s.test(e)}var Hs=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;var Js=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function Gs(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const s=e[a];if(Ls.test(s.type))r.push(s);else{const e=Ss(Js,s.type);if(!e?.type)throw new Rs("Invalid ABI parameter.",{details:JSON.stringify(s,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:a,type:i}=e;if(i in t){if(n.has(i))throw new Rs("Circular reference detected.",{metaMessages:[`Struct "${i}" is a circular reference.`]});r.push({...s,type:`tuple${a??""}`,components:Gs(t[i]??[],t,new Set([...n,i]))})}else{if(!Xs(i))throw new Rs("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});r.push(s)}}}return r}const Ys=32;function Qs(e=0){var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function ea(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>ea(e)))})}function ta(e){return e.map((e=>{var t,n,r;if(!xs(n=e)&&"object"==typeof n&&!xs(n.type)&&"string"==typeof n.type)return e;if("string"==typeof e)return ea(function(e){let t;if("string"==typeof e)t=Vs(e,{modifiers:Ms});else{const n=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!Ps(n))continue;const s=Us(n);if(!s)throw new Rs("Invalid struct signature.",{details:n});const a=s.properties.split(";"),i=[],o=a.length;for(let e=0;e<o;e++){const t=a[e].trim();if(!t)continue;const n=Vs(t,{type:"struct"});i.push(n)}if(!i.length)throw new Rs("Invalid struct signature.",{details:n,metaMessages:["No properties exist."]});t[s.name]=i}const r={},s=Object.entries(t),a=s.length;for(let e=0;e<a;e++){const[n,a]=s[e];r[n]=Gs(a,t)}return r}(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(!Ps(r)){t=Vs(r,{modifiers:Ms,structs:n});break}}}if(!t)throw new Rs("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if("object"==typeof(r=e)&&void 0===r.components&&void 0===r.name){const n=Object.keys(e)[0],r=Os(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:Es(e[n])})}throw new oe("Invalid abi")}))}function na(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let s=-1;if("[]"!==r&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new oe("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:s}}function ra(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(ra))&&void 0!==n&&n:!!e.type.endsWith("]")&&ra(na(e).param))}const sa=new Map;let aa=BigInt(256);for(let e=8;e<=256;e+=8)sa.set(`uint${e}`,{min:BigInt(0),max:aa-BigInt(1)}),sa.set(`int${e}`,{min:-aa/BigInt(2),max:aa/BigInt(2)-BigInt(1)}),aa*=BigInt(256);sa.set("int",sa.get("int256")),sa.set("uint",sa.get("uint256"));const ia=BigInt(1)<<BigInt(256);function oa(e,t=32){let n;return n=e<0?(ia+e).toString(16):e.toString(16),n=((e,t,n="0")=>"string"==typeof e?Er(e)?Ur(e,t,n):e.padStart(t,n):(hs.validate(["int"],[e]),Ur(e,t,n)))(n,2*t),Dr(n)}function ca(e,t){let n;try{n=(e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&("number"==typeof(t=e)||"bigint"==typeof t||"string"==typeof t&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t)))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);var t;throw new ue(e)})(t)}catch(n){throw new oe("provided input is not number value",{type:e.type,value:t,name:e.name})}const r=sa.get(e.type);if(!r)throw new oe("provided abi contains invalid number datatype",{type:e.type});if(n<r.min)throw new oe("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:r.min.toString()});if(n>r.max)throw new oe("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:r.max.toString()});return{dynamic:!1,encoded:oa(n)}}function ua(e,t){if(t.length<Ys)throw new oe("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,Ys),r=sa.get(e.type);if(!r)throw new oe("provided abi contains invalid number datatype",{type:e.type});const s=function(e,t){const n=Mr(e),r=BigInt(n);return r<=t?r:r-ia}(n,r.max);if(s<r.min)throw new oe("decoded value is less then minimum for given type",{type:e.type,value:s,name:e.name,minimum:r.min.toString()});if(s>r.max)throw new oe("decoded value is greater then maximum for given type",{type:e.type,value:s,name:e.name,maximum:r.max.toString()});return{result:s,encoded:t.subarray(Ys),consumed:Ys}}function da(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!Vr(t))throw new oe("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const n=fs(t),[,r]=e.type.split("bytes");if(r){if(Number(r)>32||Number(r)<1)throw new oe("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(r)<n.length)throw new oe("provided input size is different than type size",{type:e.type,value:t,name:e.name});const s=Qs(Ys);return s.set(n),{dynamic:!1,encoded:s}}const s=Math.ceil(n.length/Ys),a=Qs(Ys+s*Ys);return a.set(ca({type:"uint32",name:""},n.length).encoded),a.set(n,Ys),{dynamic:!0,encoded:a}}function la(e,t){const[,n]=e.type.split("bytes");let r=Number(n),s=t,a=1,i=0;if(!r){const e=ua({type:"uint32",name:""},s);r=Number(e.result),i+=e.consumed,s=e.encoded,a=Math.ceil(r/Ys)}if(r>t.length)throw new oe("there is not enough data to decode",{type:e.type,encoded:t,size:r});return{result:gs(s.subarray(0,r)),encoded:s.subarray(a*Ys),consumed:i+a*Ys}}function pa(e){let t=0,n=0;const r=[],s=[];for(const n of e)n.dynamic?t+=Ys:t+=n.encoded.length;for(const a of e)a.dynamic?(r.push(ca({type:"uint256",name:""},t+n)),s.push(a),n+=a.encoded.length):r.push(a);return ms(...r.map((e=>e.encoded)),...s.map((e=>e.encoded)))}function ha(e,t){if("string"===e.type)return function(e,t){if("string"!=typeof t)throw new oe("invalid input, should be string",{input:t});return da({type:"bytes",name:""},bs(t))}(0,t);if("bool"===e.type)return function(e,t){let n;try{n=(e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e))return Boolean(e);if("bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return Boolean(e);if("string"==typeof e&&!Er(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&Boolean(Number(e));if("string"==typeof e&&Er(e)&&("0x1"===e||"0x0"===e))return Boolean(_s(e));throw new le(e)})(t)}catch(n){if(n instanceof le)throw new oe("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return ca({type:"uint8",name:""},Number(n))}(e,t);if("address"===e.type)return function(e,t){if("string"!=typeof t)throw new oe("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Kr(n))throw new oe("provided input is not valid address",{value:t,name:e.name,type:e.type});const r=Dr(n),s=Qs(Ys);return s.set(r,12),{dynamic:!1,encoded:s}}(e,t);if("tuple"===e.type)return fa(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new oe("Expected value to be array",{abi:e,values:t});const{size:n,param:r}=na(e),s=t.map((e=>ha(r,e))),a=-1===n,i=s.length>0&&s[0].dynamic;if(!a&&t.length!==n)throw new oe("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(a||i){const e=pa(s);if(a){const t=ca({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?ms(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ms(...s.map((e=>e.encoded)))}}(e,t);if(e.type.startsWith("bytes"))return da(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return ca(e,t);throw new oe("Unsupported",{param:e,value:t})}function ma(e,t){if("string"===e.type)return function(e,t){const n=la({type:"bytes",name:""},t);return{result:(r=n.result,function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)}(vs(r))),encoded:n.encoded,consumed:n.consumed};var r}(0,t);if("bool"===e.type)return function(e,t){const n=ua({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new oe("Invalid boolean value encoded",{boolBytes:t.subarray(0,Ys),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Ys}}(0,t);if("address"===e.type)return function(e,t){const n=t.subarray(12,Ys);if(20!==n.length)throw new oe("Invalid decoding input, not enough bytes to decode address",{bytes:t});const r=Mr(n);return{result:ws(r),encoded:t.subarray(Ys),consumed:Ys}}(0,t);if("tuple"===e.type)return ya(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:n,param:r}=na(e),s=0;const a=[];let i=t;if(-1===n){const e=ua({type:"uint32",name:""},t);n=Number(e.result),s=e.consumed,i=e.encoded}if(ra(r)){for(let e=0;e<n;e+=1){const t=ua({type:"uint32",name:""},i.subarray(e*Ys));s+=t.consumed;const n=ma(r,i.subarray(Number(t.result)));s+=n.consumed,a.push(n.result)}return{result:a,encoded:i.subarray(s),consumed:s}}for(let e=0;e<n;e+=1){const e=ma(r,t.subarray(s));s+=e.consumed,a.push(e.result)}return{result:a,encoded:t.subarray(s),consumed:s}}(e,t);if(e.type.startsWith("bytes"))return la(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return ua(e,t);throw new oe("Unsupported",{param:e,bytes:t})}function fa(e,t){var n,r,s;let a=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new oe("param must be either Array or Object",{param:e,input:t});const i=t,o=[];for(let c=0;c<(null!==(r=null===(n=e.components)||void 0===n?void 0:n.length)&&void 0!==r?r:0);c+=1){const n=e.components[c];let r;if(Array.isArray(i)){if(c>=i.length)throw new oe("input param length missmatch",{param:e,input:t});r=ha(n,i[c])}else{const a=i[null!==(s=n.name)&&void 0!==s?s:""];if(null==a)throw new oe("missing input defined in abi",{param:e,input:t,paramName:n.name});r=ha(n,a)}r.dynamic&&(a=!0),o.push(r)}return a?{dynamic:!0,encoded:pa(o)}:{dynamic:!1,encoded:ms(...o.map((e=>e.encoded)))}}function ya(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let s=0;for(const[a,i]of e.components.entries()){let e;if(ra(i)){const n=ua({type:"uint32",name:""},t.subarray(r));e=ma(i,t.subarray(Number(n.result))),r+=n.consumed,s+=e.consumed}else e=ma(i,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[a]=e.result,i.name&&""!==i.name&&(n[i.name]=e.result)}return{encoded:t.subarray(r+s),result:n,consumed:r+s}}const ga=(e,t)=>((e,t)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new oe("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return ya({type:"tuple",name:"",components:ta(e)},Dr(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(e){throw new oe(`Parameter decoding error: ${e.message}`,{internalErr:e})}})(e,t),va=(e,t)=>ga([e],t)[0],ba=(e,t)=>{var n;if(!As(e))throw new oe("Invalid parameter value in encodeFunctionCall");return`${(e=>{if("string"!=typeof e&&!As(e))throw new oe("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:(e=>{var t,n,r,s,a;return!xs(a=e)&&"object"==typeof a&&!xs(a.type)&&"error"===a.type||(e=>!xs(e)&&"object"==typeof e&&!xs(e.type)&&"event"===e.type)(e)||As(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${Ns(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${Ns(!1,null!==(s=e.inputs)&&void 0!==s?s:[]).join(",")})`})(e),Ts(t).slice(0,10)})(e)}${function(e,t){if((null==e?void 0:e.length)!==t.length)throw new oe("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return Mr(fa({type:"tuple",name:"",components:ta(e)},t).encoded)}(null!==(n=e.inputs)&&void 0!==n?n:[],null!=t?t:[]).replace("0x","")}`},_a=new Map,wa=chrome.storage.local;async function xa(e){if("0x"==e)return"Transfer";if(_a.has(e))return _a.get(e);const t=await fetch("https://otter-pulsechain.g4mm4.io/signatures/"+e.slice(2));if(t.ok){const n=await t.text();_a.set(e,n.split("(")[0])}else _a.set(e,"contract call");return _a.get(e)}async function ka(e,t,n,r,s){const a=await wa.get(e);console.log(a),a[e]||(a[e]={});const i=t.input.slice(0,10);if(a[e][t.hash]={chainId:t.chainId,dapp:s,fn:await xa(i),timestamp:parseInt(r),nonce:parseInt(t.nonce),failed:"0x1"!=n.status,infos:[]},t.value&&"0x0"!=t.value&&a[e][t.hash].infos.push({type:"gave",amount:parseInt(t.value),token:"0x0000000000000000000000000000000000000000"}),n.logs)for(const r of n.logs){if("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"==r.topics[0]){const n=va("address",r.topics[1]),s=va("address",r.topics[2]),i=va("uint256",r.data),o=r.address;n!=e&&s!=e||a[e][t.hash].infos.push({type:n==e?"gave":"got",token:o,amount:i})}if("0x7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65"==r.topics[0]){const n=va("uint256",r.data);a[e][t.hash].infos.push({type:"got",amount:n,token:"0x0000000000000000000000000000000000000000"})}}await wa.set(a)}const Ia="victory";let Ta,Aa=new Map;class Oa extends a.EventEmitter{}let Ea=new Map;chrome.notifications.onClicked.addListener((e=>{chrome.tabs.create({url:Ea.get(e)})}));const Na=new Oa;let Sa,Ca;async function $a(){const e=await chrome.storage.local.get("selected");e.selected?(Sa=e.selected.wallet,Ca=e.selected.chainId):(Ca="0x171",await chrome.storage.local.set({selected:{chainId:Ca}})),chrome.tabs.getCurrent((e=>{e?.url&&0!=e.url.length?e.url.startsWith(chrome.runtime.getURL(""))?chrome.action.setIcon({path:chrome.runtime.getURL("icons")+"/victory2on.png"}):Fa(Sa,new URL(e.url).host,"true").then((e=>chrome.action.setIcon({path:chrome.runtime.getURL("icons")+`/victory2${e?"on":""}.png`}))):chrome.action.setIcon({path:chrome.runtime.getURL("icons")+"/victory2.png"})}))}(async function(){const e=await chrome.storage.local.get("chains");e.chains&&e.chains["0x171"].rpc.indexOf("wss")<0?(Ta=e.chains,console.log(Ta)):(Ta={"0x1":{id:"eth",symbol:"ETH",name:"Ethereum",rpc:"https://rpc-ethereum.g4mm4.io",explorer:"http://etherscan.io/tx/"},"0x171":{id:"pulse",symbol:"PLS",name:"PulseChain",rpc:"https://rpc-pulsechain.g4mm4.io",explorer:"https://apphex.win/@/#/tx/"}},await chrome.storage.local.set({chains:Ta}))})().then((()=>$a())).then((()=>{Ra()})),Na.on("SELECT_CHAIN",(async e=>{await $a(),Ra();for(const e of Aa){const t=await chrome.tabs.get(e[0]),n=new URL(t.url).host;n==e[1]&&(console.log("notify chainChanged",n),chrome.tabs.sendMessage(e[0],{target:Ia,event:"chainChanged",params:Ca}))}e.reply({})})),Na.on("SELECT_WALLET",(async e=>{await $a();for(const e of Aa){const t=await chrome.tabs.get(e[0]);let n=!1;new URL(t.url).host==e[1]&&(n=await Fa(Sa,new URL(t.url).host,"true"),n?(chrome.tabs.sendMessage(t.id,{target:Ia,event:"accountsChanged",params:[Sa]}),chrome.tabs.sendMessage(t.id,{target:Ia,event:"connected",params:{chainId:Ca}})):chrome.tabs.sendMessage(t.id,{target:Ia,event:"disconnect",params:{}})),chrome.action.setIcon({path:chrome.runtime.getURL("icons")+`/victory2${n?"on":""}.png`})}e.reply({})})),Na.on("IMPORT_UPDATE",(async e=>{const t=await chrome.storage.local.get("wallets");if(t.wallets&&null==t.wallets[Sa]){const e=Object.keys(t.wallets);console.log("keys",e),await chrome.storage.local.set({selected:{wallet:e[0],chainId:Ca}}),await $a()}e.reply({})}));let La=1,ja=0;Na.on("REQUEST_INTERNAL",(e=>{Ma(e.params).then((t=>e.reply(t)))})),Na.on("REQUEST_TRACE",(e=>{Ma(e.params).then((t=>e.reply(t)))})).on("CONFIRM_TX_INTERNAL",(e=>{Ua(e.params,e.reply)})).on("REQUEST_TOKEN_INFO",(async e=>{const t=await async function(e){if("0x0000000000000000000000000000000000000000"==e)return{name:"Pulse",symbol:"PLS",decimals:18};let t=[{id:La++,method:"eth_call",params:[{to:e,data:ba(Da[0],[])},"latest"]},{id:La++,method:"eth_call",params:[{to:e,data:ba(Da[1],[])},"latest"]},{id:La++,method:"eth_call",params:[{to:e,data:ba(Da[2],[])},"latest"]}];const n=await Ma(t);console.log("token",n);return{name:va("string",n[0].result),symbol:va("string",n[1].result),decimals:parseInt(va("uint8",n[2].result))}}(e.params);e.reply(t)})).on("RESERVES_PRICE",(async e=>{e.reply(Number(await async function(e,t){const n=[{id:La++,method:"eth_call",params:[{to:e,data:ba(Wa,[])},"latest"]}],r=await Ma(n[0]);console.log("getReserves",r);const s=ga(["uint112","uint112","uint32"],r.result);return s[1]*10n**BigInt(t)/s[0]}(e.params.lp,e.params.factor)))})).on("WALLET_REQUEST",(async e=>{await Ba({payload:e.payload},e.sender,e.reply)})).on("POPUP_READY",(e=>{Ra(),e.reply({})})).on("POPUP_VISIBILITY",(e=>{console.log("POPUP_VISIBILITY",e.params.visible),e.params.visible&&Ra(),e.reply({})}));let Za=null;function Ra(e){console.log("deltaT",Date.now()-ja);{ja=Date.now();let e=0;Za&&clearInterval(Za),Za=setInterval((async()=>{const t=await Ma({method:"eth_blockNumber",params:[]});if(t.result==e)return;e=t.result;const n=await Ma({method:"eth_getBlockByNumber",params:[e,!1]});ja=1e3*parseInt(n.result.timestamp);try{await chrome.runtime.sendMessage({type:"NEW_BLOCK"})}catch{}const r=await chrome.storage.local.get();let s=Object.keys(r).filter((e=>e.startsWith("0x")));for(const e of s){const t=Object.entries(r[e]).filter((e=>e[1].chainId==Ca&&(0==e[1].timestamp||null==e[1].timestamp)));console.log("pendings",t);for(const r of t){const t=r[0],s=await Ma({method:"eth_getTransactionByHash",params:[t]});if(console.log("eth_getTransactionByHash",s),s.result?.blockNumber){const a=await Ma({method:"eth_getTransactionReceipt",params:[t]}),i="0x1"!=a.result.status?"Failed":"Successful";chrome.notifications.create({type:"basic",title:"Victory Wallet "+s.result.from.slice(0,6),message:`Transaction ${parseInt(s.result.nonce)} ${i}`,iconUrl:chrome.runtime.getURL("icons")+"/victory2.png"},(e=>Ea.set(e,Ta[Ca].explorer+t))),await ka(e,s.result,a.result,n.result.timestamp,r[1].dapp);try{chrome.runtime.sendMessage({type:"TX_UPDATE",params:{hash:t}})}catch{}}}}}),2e3)}}async function Ba(e,t,n){const r=new URL(t.url).host,s=t.tab.favIconUrl;switch(Aa.set(t.tab.id,r),console.log(r,":requests:",e.payload.method),e.payload.method){case"wallet_switchEthereumChain":const t=e.payload.params.chainId||e.payload.params[0].chainId;console.log("requestChainId",t),Ta[t]?(await chrome.storage.local.set({selected:{wallet:Sa,chainId:t}}),n({error:null,result:null}),Na.emit("SELECT_CHAIN"),chrome.runtime.sendMessage({type:"IMPORT_UPDATE"})):n({error:{code:4902}});break;case"wallet_revokePermissions":Array.isArray(e.payload.params)&&1==e.payload.params.length&&e.payload.params[0].eth_accounts&&await za(Sa,r,"false"),n({result:null});break;case"wallet_requestPermissions":n({error:null,result:[{parentCapability:"eth_accounts"}]});break;case"wallet_getPermissions":await Fa(Sa,r,"true")?n({error:null,result:[{parentCapability:"eth_accounts"}]}):n({error:null,result:[]});break;case"eth_accounts":console.log("eth_accounts",r,await Fa(Sa,r,"true")),await Fa(Sa,r,"true")?n({error:null,result:[Sa]}):n({error:null,result:[]});break;case"eth_requestAccounts":if(await Fa(Sa,r,"true"))n({error:null,result:[Sa]});else{const e=await chrome.windows.getCurrent(),t=await chrome.windows.create({url:"html/connect.html",type:"popup",width:400,height:500,left:parseInt(e.width-300)});Na.once("CONNECT_READY",(e=>e.reply({host:r,icon:s}))),Na.once("CONNECT_CONFIRM",(async e=>{e.sender.tab.windowId==t.id&&(await za(Sa,r,"true"),chrome.action.setIcon({path:chrome.runtime.getURL("icons")+"/victory2on.png"}),n({error:null,result:[Sa]}),e.reply({}))})),Na.once("CONNECT_CANCEL",(async e=>{console.log("CONNECT_CANCEL"),e.sender.tab.windowId==t.id&&(await za(Sa,r,"false"),n({error:{code:4001,message:"User rejected the request."}}),e.reply({}))})),Na.once("CONNECT_CLOSE",(async e=>{console.log("CONNECT_CLOSE"),e.sender.tab.windowId==t.id&&(n({error:{code:4001,message:"User rejected the request."}}),e.reply({}))}))}break;case"eth_sendTransaction":await Fa(Sa,r,"true")?await Ua({host:r,icon:s,tx:e.payload.params[0]},n):n({error:{code:4100,message:"Unauthorized request."}});break;case"personal_sign":await Fa(Sa,r,"true")?await Pa({host:r,icon:s,data:e.payload.params[0],account:e.payload.params[1]},n):n({error:{code:4100,message:"Unauthorized request."}});break;case"eth_signTypedData_v4":await Fa(Sa,r,"true")?await Pa({host:r,icon:s,data:e.payload.params[1],account:e.payload.params[0],method:e.payload.method},n):n({error:{code:4100,message:"Unauthorized request."}});break;default:n(await Ma(e.payload))}}async function Pa(e,t){const n=await chrome.windows.getCurrent(),r=await chrome.windows.create({url:"html/signMsg.html",type:"popup",width:400,height:600,left:parseInt(n.width-300)});Na.once("SIGN_READY",(t=>t.reply(e))).once("SIGN_DONE",(async e=>{e.sender.tab.windowId==r.id&&t({result:e.params}),e.reply({})})).once("SIGN_CANCEL",(async e=>{e.sender.tab.windowId==r.id&&(t({error:{code:4001,message:"User rejected the request."}}),e.reply({}))}))}async function Ua(e,t){const n=await chrome.windows.getCurrent(),r=await chrome.windows.create({url:"html/confirmTx.html",type:"popup",width:400,height:600,left:parseInt(n.width-300)});Na.once("TX_READY",(t=>t.reply(e))).once("TX_SEND",(async n=>{if(n.sender.tab.windowId==r.id){const r=await Ma({method:"eth_sendRawTransaction",params:[n.params.rlp]});if(console.log("hash",r),r.error)n.reply({broadcasted:!1,error:r.error.message});else{t(r);const s=await chrome.storage.local.get(Sa);s[Sa]||(s[Sa]={}),s[Sa][r.result]={dapp:e.host,fn:n.params.fn,nonce:parseInt(n.params.nonce),chainId:Ca,timestamp:0,infos:[]},await chrome.storage.local.set(s),chrome.runtime.sendMessage({type:"TX_NEW",params:{hash:r.result}}),n.reply({broadcasted:!0})}}})).once("TX_CANCEL",(async e=>{e.sender.tab.windowId==r.id&&(t({error:{code:4001,message:"User rejected the request."}}),e.reply({}))}))}async function Ma(e){Array.isArray(e)||(e.jsonrpc="2.0",e.id||(e.id=La++));try{const t=await fetch(Ta[Ca].rpc,{method:"POST",headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36",Accept:"application/json","Accept-Language":"en-US,en;q=0.5"},credentials:"include",body:JSON.stringify(e)}),n=await t.text();return JSON.parse(n)}catch(e){throw console.log(Ca,Ta[Ca],e),new Error(`Request failed: ${e}`)}}async function Fa(e,t,n){let r={connect:{}};try{r=await chrome.storage.local.get("connect")}catch{console.log("storage connect not found")}return console.log("isConnectedHost",e,t,r?.connect?.[e]?.[t]),r?.connect?.[e]?.[t]==n}async function za(e,t,n){console.log("setConnectedHost",e,t,n);let r={connect:{}};try{r=await chrome.storage.local.get("connect")}catch{console.log("storage connect not found")}null==r.connect&&(r={connect:{}}),null==r.connect[e]&&(r.connect[e]={}),r.connect[e][t]=n,await chrome.storage.local.set({connect:r.connect})}chrome.runtime.onConnect.addListener((e=>console.log("runtime","connect",e))),chrome.runtime.onSuspend.addListener((e=>console.log("runtime","suspend",e))),chrome.runtime.onSuspendCanceled.addListener((e=>console.log("runtime","onSuspendCanceled",e))),chrome.runtime.onStartup.addListener((e=>console.log("runtime","onStartup",e))),chrome.runtime.onMessage.addListener(((e,t,n)=>(Na.emit(e.type,{reply:n,params:e.params,payload:e.payload,sender:t}),!0))),chrome.runtime.onMessageExternal.addListener((async(e,t,n)=>{if("WALLET_REQUEST"!=e.type)return n({error:"Bad request"});await Ba(e,t,n)})),chrome.tabs.onActivated.addListener((async e=>{const t=await chrome.tabs.get(e.tabId);let n=!1;0==t?.url?.length||(n=!!t?.url?.startsWith(chrome.runtime.getURL(""))||await Fa(Sa,new URL(t.url).host,"true")),chrome.action.setIcon({path:chrome.runtime.getURL("icons")+`/victory2${n?"on":""}.png`})})),chrome.tabs.onUpdated.addListener((async(e,t)=>{if(t.status==chrome.tabs.TabStatus.LOADING){Aa.delete(e);let n=!1;0==t.url?.length||(n=!!t.url?.startsWith(chrome.runtime.getURL(""))||await Fa(Sa,new URL(t.url).host,"true")),chrome.action.setIcon({path:chrome.runtime.getURL("icons")+`/victory2${n?"on":""}.png`})}})),chrome.tabs.onRemoved.addListener((e=>{Aa.delete(e)}));const Da=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],Wa={name:"getReserves",type:"function",params:[],inputs:[],outputs:[]}})();